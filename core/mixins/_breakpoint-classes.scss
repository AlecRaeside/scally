@mixin generate-at-breakpoints($class, $breakpoint-names: ()) {
  %#{$class},
  .#{$class} {
    @content;
  }
  @if $breakpoint-names == "all" {
    $breakpoint-names: map-keys($breakpoints);
  }
  @each $breakpoint-name in $breakpoint-names {
    .#{$class}-at-#{$breakpoint-name} {
      @include respond-to($breakpoint-name, $limit: if($breakpoint-name == 'palm', 'max', 'min')) {
        @content;
      }
    }
  }
}

@include generate-at-breakpoints(hide-fully) {
  display: none !important;
  visibility: hidden !important;
}

@include generate-at-breakpoints(hide-fully-all, all) {
  display: none !important;
  visibility: hidden !important;
}

@include generate-at-breakpoints(test-some, palm desk) {
  color: pink;
}

.test-extend {
  @extend %hide-fully;
}